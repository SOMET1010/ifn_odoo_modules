<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Portal Merchant Rules -->
        <record id="rule_merchant_portal_own_data" model="ir.rule">
            <field name="name">Merchant Portal: Own Data Only</field>
            <field name="model_id" ref="model_ifn_merchant_portal_kpi"/>
            <field name="domain_force">[('partner_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_merchant'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="rule_merchant_offline_queue_own_data" model="ir.rule">
            <field name="name">Merchant Offline Queue: Own Data Only</field>
            <field name="model_id" ref="model_ifn_merchant_offline_queue"/>
            <field name="domain_force">[('partner_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_merchant'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="rule_merchant_notification_own_data" model="ir.rule">
            <field name="name">Merchant Notification: Own Data Only</field>
            <field name="model_id" ref="model_ifn_merchant_notification"/>
            <field name="domain_force">[('partner_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_merchant'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="rule_merchant_training_progress_own_data" model="ir.rule">
            <field name="name">Merchant Training Progress: Own Data Only</field>
            <field name="model_id" ref="model_ifn_merchant_training_progress"/>
            <field name="domain_force">[('partner_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_merchant'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <!-- Portal Access Rules for Standard Models -->
        <record id="rule_res_partner_merchant_portal" model="ir.rule">
            <field name="name">Partner: Merchant Portal Access</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_merchant'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>

        <!-- Manager Rules (Full Access) -->
        <record id="rule_merchant_portal_manager" model="ir.rule">
            <field name="name">Merchant Portal: Manager Full Access</field>
            <field name="model_id" ref="model_ifn_merchant_portal_kpi"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_manager'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record id="rule_merchant_offline_queue_manager" model="ir.rule">
            <field name="name">Merchant Offline Queue: Manager Full Access</field>
            <field name="model_id" ref="model_ifn_merchant_offline_queue"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('ifn_portal_merchant.ifn_group_manager'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

    </data>
</odoo>